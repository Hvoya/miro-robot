(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ea4e5926"],{"0d78":function(t,e,s){t.exports=s.p+"img/no_data.f335d610.svg"},"5f23":function(t,e,s){"use strict";var a=s("88ac"),r=s.n(a);r.a},"76fc":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ProjectPageTemplate",[s("div",{staticClass:"singe-project"},[s("h3",[t._v(t._s(t.$t("headings.project")))]),s("h2",[s("span",{staticClass:"red-text"},[t._v(t._s(t.project.name))])]),s("a-card",[s("a-row",{attrs:{gutter:30}},[s("a-col",{attrs:{span:14}},[s("h4",{staticClass:"single-project_sub-heaidng gallery-heading"},[t._v("\n            "+t._s(t.$t("headings.gallery"))+"\n          ")]),s("div",{staticClass:"carouser-wrapper"},[s("a-carousel",{attrs:{arrows:""},scopedSlots:t._u([{key:"prevArrow",fn:function(t){return s("div",{staticClass:"custom-slick-arrow",staticStyle:{left:"10px",zIndex:"1"}},[s("a-icon",{attrs:{type:"left-circle"}})],1)}},{key:"nextArrow",fn:function(t){return s("div",{staticClass:"custom-slick-arrow",staticStyle:{right:"10px"}},[s("a-icon",{attrs:{type:"right-circle"}})],1)}}])},[0===t.project.images.length?s("div",{staticClass:"no-images"},[s("img",{attrs:{src:t.no_data_link,alt:""}}),t._v("\n                "+t._s(t.$t("errors.not_images"))+"\n              ")]):t._e(),t._l(t.project.images,function(t){return s("div",{key:t.name,staticClass:"image-wrapper"},[s("img",{attrs:{src:"/api/images/"+t.name,alt:t.name}})])})],2)],1)]),s("a-col",{attrs:{span:10}},[s("h4",{staticClass:"single-project_sub-heaidng statistics-heading"},[t._v("\n            "+t._s(t.$t("headings.statistics"))+"\n          ")]),s("div",{staticClass:"statistics"},[s("div",{staticClass:"statistics-item"},[s("span",[t._v(t._s(t.$t("headings.views")))]),s("span",{staticClass:"icon-group"},[t._v("\n                "+t._s(t.project.views||0)+"  \n                "),s("a-icon",{attrs:{type:"eye",theme:"twoTone",twoToneColor:"rgb(251, 1, 1)"}})],1)]),s("div",{staticClass:"statistics-item"},[s("span",[t._v(t._s(t.$t("headings.likes")))]),s("span",{staticClass:"icon-group"},[t._v("\n                "+t._s(t.project.like_count||0)+"  \n                "),s("a-icon",{attrs:{type:"like",theme:"twoTone",twoToneColor:"rgb(251, 1, 1)"}})],1)]),s("div",{staticClass:"statistics-item"},[s("span",[t._v(t._s(t.$t("headings.comments")))]),s("span",{staticClass:"icon-group"},[t._v("\n                "+t._s(t.project.comment_count||0)+"  \n                "),s("a-icon",{attrs:{type:"message",theme:"twoTone",twoToneColor:"rgb(251, 1, 1)"}})],1)])]),s("h4",{staticClass:"single-project_sub-heaidng"},[t._v("\n            "+t._s(t.$t("headings.documents"))+"\n          ")]),s("div",{staticClass:"file-container"},[0===t.project.files.length?s("div",{staticClass:"no-documents"},[s("img",{attrs:{src:t.no_data_link,alt:""}}),t._v("\n              "+t._s(t.$t("errors.not_documents"))+"\n            ")]):t._e(),t._l(t.project.files,function(e){return s("li",{key:e.name},[s("a",{staticClass:"file-link",attrs:{href:"/api/files/"+e.id}},[t._v(t._s(e.original_name))])])})],2),s("div",{staticClass:"project-actions"},[s("h4",{staticClass:"single-project_sub-heaidng"},[t._v("\n              "+t._s(t.$t("headings.feedback"))+"\n            ")]),s("div",{staticClass:"feedback"},[s("div",{style:{fontSize:"35px",color:"rgb(251, 1, 1)",marginLeft:"15px",cursor:"pointer"},attrs:{"сlass":"feedback-icon-wrapper"}},[t.$store.state.user?s("a-button",{attrs:{disabled:t.liked,type:"primary"},on:{click:t.like}},[t._v("\n                  "+t._s(t.liked?t.$t("buttons.liked"):t.$t("buttons.like"))+"\n                  "),s("a-icon",{attrs:{type:"like",twoToneColor:"rgb(251, 1, 1)"}})],1):s("div",{style:{fontSize:"14px",color:"#d8d8d8",textAlign:"center"}},[t._v("\n                  "+t._s(t.$t("errors.like"))+"\n                ")]),t.isProjectOwner?s("a-button",{style:{display:"block",marginTop:"20px"},attrs:{type:"warning",icon:"edit"},on:{click:t.editProject}},[t._v("Редактировать")]):t._e(),this.$store.state.isAdmin?s("a-button",{style:{display:"block",marginTop:"20px"},attrs:{type:"danger"},on:{click:function(e){t.isDeleteMadalOpen=!0}}},[t._v("Удалить проект")]):t._e()],1)])])])],1),s("a-row",{style:{marginTop:"30px"},attrs:{gutter:30}},[s("a-col",{attrs:{span:6}},[s("h4",{staticClass:"single-project_sub-heaidng"},[t._v("\n            "+t._s(t.$t("headings.creator"))+"\n          ")]),s("a-card",{attrs:{hoverable:""},on:{click:t.goToUserPage}},[t.project.user.image?s("img",{style:{height:"220px",width:"220px"},attrs:{slot:"cover",alt:"example",src:"/api/images/"+t.project.user.image.name},slot:"cover"}):s("img",{style:{height:"auto",width:"157px",marginBottom:"20px",display:"block"},attrs:{src:t.logo,alt:""}}),s("a-card-meta",{attrs:{title:t.project.user.username}},[s("template",{slot:"description"},[t._v(t._s(t.project.user.first_name+" "+t.project.user.last_name))])],2)],1)],1),s("a-col",{attrs:{span:16}},[s("a-tabs",{attrs:{defaultActiveKey:"1"}},[s("a-tab-pane",{key:"1",attrs:{tab:t.$t("headings.description_tab")}},[t.project.description?t._e():s("div",{staticClass:"no-description"},[s("img",{attrs:{src:t.no_data_link,alt:""}}),t._v("\n                "+t._s(t.$t("errors.not_description"))+"\n              ")]),s("div",{domProps:{innerHTML:t._s(t.project.description)}})]),s("a-tab-pane",{key:"2",attrs:{tab:t.$t("headings.comments_tab")}},[t._l(t.project.comments,function(e){return s("a-comment",{key:e.id},[s("router-link",{attrs:{slot:"author",to:"/projects/users/"+e.user.id},slot:"author"},[t._v(t._s(e.user.username)+"\n                ")]),e.user.image?s("a-avatar",{attrs:{slot:"avatar",src:"/api/images/"+e.user.image.name},on:{click:function(){return t.$router.push("/projects/users/"+e.user.id)}},slot:"avatar"}):s("a-avatar",{attrs:{slot:"avatar",src:t.logo},slot:"avatar"}),s("div",{style:{display:"flex",flexDirection:"column"},attrs:{slot:"content"},slot:"content"},[s("p",{domProps:{innerHTML:t._s(e.message)}}),t.$store.state.isAdmin||t.$store.state.user&&t.$store.state.user.id===e.user.id?s("a-button",{style:{alignSelf:"flex-end"},attrs:{type:"danger"},on:{click:function(){return t.deleteComment(e.id)}}},[t._v("Удалить")]):t._e()],1),s("a-tooltip",{attrs:{slot:"datetime",title:t.moment(e.created_at).format("YYYY-MM-DD HH:mm:ss")},slot:"datetime"},[t._v("`\n                  "),s("span",[t._v(t._s(t.moment(e.created_at).fromNow()))])])],1)}),0===t.project.comment_count?s("div",{staticClass:"no-description"},[s("img",{attrs:{src:t.no_data_link,alt:""}}),t._v("\n                "+t._s(t.$t("errors.not_comments"))+"\n              ")]):t._e()],2),s("a-tab-pane",{staticClass:"save-comment-tab",attrs:{tab:t.$t("headings.add_comment")}},[s("h4",{staticClass:"comment-heading"},[t._v("\n                "+t._s(t.$t("headings.add_comment"))+":\n              ")]),s("quill-editor",{staticClass:"comment-quill",attrs:{disabled:!t.user},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),s("a-button",{staticClass:"save-comment-button",attrs:{disabled:!t.user||!t.comment},on:{click:t.saveComment}},[t._v(t._s(t.user?t.$t("buttons.save"):t.$t("errors.only_user_comments")))])],1)],1)],1)],1)],1),s("a-modal",{on:{ok:t.deleteProject},model:{value:t.isDeleteMadalOpen,callback:function(e){t.isDeleteMadalOpen=e},expression:"isDeleteMadalOpen"}},[s("p",[t._v("Уверены, что хотите удалить проект?")])])],1)])},r=[],n=s("db72"),o=s("953d"),i=s("01eb"),c=s("1c1e"),l=s("56d7"),d=s("0d78"),u=s.n(d),m=(s("a753"),s("8096"),s("14e1"),s("c1df")),p=s.n(m),_=s("cf05"),g=s.n(_),h={components:{ProjectPageTemplate:i["a"],quillEditor:o["quillEditor"]},data:function(){return{isDeleteMadalOpen:!1,logo:g.a,liked:!1,moment:p.a,isProjectOwner:null,comment:"",user:this.$store.state.user,no_data_link:u.a,project:{images:[],files:[],user:{},comments:[]},server_address:l["SERVER_ADDRESS"]}},mounted:function(){var t=this;this.user||(this.user={}),c["a"].get("/projects/".concat(this.$route.params.id).concat(this.$store.state.user?"?user_id=".concat(this.$store.state.user.id):"")).then(function(e){t.project=e.data,t.isProjectOwner=t.user.id===e.data.user_id,t.liked=e.data.liked})},methods:{deleteComment:function(t){var e=this;c["a"].del("/comments/".concat(t)).then(function(){return e.$message.success("Комментарий удален")}).catch(function(){return e.$message.error(e.$t("errors.server_error"))})},editProject:function(){this.$router.push("/projects/".concat(this.project.id,"/edit"))},deleteProject:function(){var t=this;c["a"].del("/projects/".concat(this.$route.params.id)).then(function(){t.$message.success("Проект удален!"),t.$router.push("/projects")}).catch(function(){return t.$message.error("Ошибка сервера")})},goToUserPage:function(){this.$router.push("/projects/users/"+this.project.user.id)},saveComment:function(){var t=this;c["a"].post("/comments",{comment:this.comment,project_id:this.$route.params.id}).then(function(){t.$message.success(t.$t("success.comment_saved")),t.$router.push("/projects")}).catch(function(){t.$message.error(t.$t("errors.server_error"))})},like:function(){var t=this;c["a"].post("/likes",{project_id:this.$route.params.id}).then(function(){t.project=Object(n["a"])({},t.project,{like_count:t.project.like_count+1}),t.liked=!0,t.$message.success(t.$t("success.liked"))})}}},v=h,f=(s("5f23"),s("2877")),k=Object(f["a"])(v,a,r,!1,null,null,null);e["default"]=k.exports},"88ac":function(t,e,s){}}]);
//# sourceMappingURL=chunk-ea4e5926.02e205f3.js.map